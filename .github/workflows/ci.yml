on: [push, pull_request]
name: ci

permissions:
    contents: read

jobs:
    setup-scoop:
        name: Setup Environment
        runs-on: windows-latest
        defaults:
            run:
                shell: pwsh
        steps:
            - name: Checkout
              uses: actions/checkout@v4
            - name: Setup Environment
              run: . .\setup_env.ps1
            - name: Upload Environment Archive
              uses: actions/upload-artifact@v4
              with:
                name: env
                path: scoop
                compression-level: 0